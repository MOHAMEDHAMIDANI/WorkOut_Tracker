import{_ as T,r as g,l as C,u as E,m as q,o,c as s,f as l,t as n,e as u,i as _,v as x,F as v,d as k,n as B,s as m,k as R}from"./index-a7ed5b57.js";import{u as b,_ as V}from"./trash-light-green-4559f6c8.js";import{_ as S,a as W}from"./dumbbell-light-green-ced84778.js";const j="/assets/pencil-light-4a9dabd8.png",A="/assets/trash-light-2665c6ca.png",D={name:"Vue-workout",setup(){const i=g(null),r=g(null),c=g(null),e=g(null),y=C(),w=E(),t=q(()=>B.state.user);let h=y.params.id;(async()=>{try{const{data:d,error:f}=await m.from("workouts").select("*").eq("id",h);if(f)throw f;i.value=d[0],r.value=!0}catch(d){c.value=d.message,setTimeout(()=>{c.value=null},5e3)}})();const U=async()=>{try{const{error:d}=m.from("workouts").delete().eq("id",h);if(d)throw d;w.push({name:"home"})}catch(d){c.value=`Error: ${d.message}`,setTimeout(()=>{c.value=null},5e3)}},p=g(null);return{data:i,data_loaded:r,error_msg:c,error_status:e,edit:p,toggle_edit:()=>{p.value=!p.value},user:t,delete_workout:U,add_exercise:()=>{if(i.value.work_Type==="strength"){i.value.exercises.push({id:b(),exercise:"",sets:"",reps:"",weight:""});return}i.value.exercises.push({id:b(),cardioType:"",distance:"",duration:"",pace:""})},delete_exo:d=>{if(i.value.exercises.length>1){i.value.exercises=i.value.exercises.filter(f=>f.id!==d);return}c.value="Error can not remove , need to at least have one exercise",setTimeout(()=>{c.value=""},5e3)},update:async()=>{try{const{error:d}=await m.from("workouts").update({workout_name:i.value.workout_name,exercises:i.value.exercises}).eq("id",h);if(d)throw d;p.value=!1,e.value="Success: Workout Updated!",setTimeout(()=>{e.value=null},5e3)}catch(d){c.value=`Error: ${d.message}`,setTimeout(()=>{c.value=!1},5e3)}}}}},F={class:"max-w-screen-sm mx-auto px-4 py-10"},M={key:0,class:"mb-10 p-4 rounded-md shadow-md bg-light-grey"},N={class:"text-at-light-green"},L={class:"text-red-500"},z={key:1},G={class:"flex flex-col items-center p-8 rounded-md shadow-md bg-light-grey relative"},H={key:0,class:"flex absolute left-2 top-2 gap-x-2"},I=l("img",{class:"h-3.5 w-auto",src:j,alt:""},null,-1),J=[I],K={class:"h-7 w-7 rounded-full flex justify-center items-center cursor-pointer bg-at-light-green shadow-lg"},O={key:1,class:"h-24 w-auto",src:S,alt:""},P={key:2,class:"h-24 w-auto",src:W,alt:""},Q={class:"mt-6 py-1.5 px-5 text-xs text-white bg-at-light-green rounded-lg shadow-md"},X={class:"w-full mt-6"},Y={key:1,class:"text-at-light-green text-2xl text-center"},Z={class:"mt-10 p-8 rounded-md flex flex-col item-center bg-light-grey shadow-md"},$={key:0,class:"flex flex-col gap-y-4 w-full"},ee={class:"flex flex-2 flex-col md:w-1/3"},te=l("label",{for:"exercise-name",class:"mb-1 text-sm text-at-light-green"}," Exercise ",-1),oe=["onUpdate:modelValue"],se={key:1},le={class:"flex flex-2 flex-col"},ae=l("label",{for:"sets",class:"mb-1 text-sm text-at-light-green"}," sets ",-1),re=["onUpdate:modelValue"],de={key:1},ne={class:"flex flex-2 flex-col"},ie=l("label",{for:"exercise-name",class:"mb-1 text-sm text-at-light-green"}," reps ",-1),ce=["onUpdate:modelValue"],ue={key:1},_e={class:"flex flex-2 flex-col"},xe=l("label",{for:"exercise-name",class:"mb-1 text-sm text-at-light-green"}," weight ",-1),he=["onUpdate:modelValue"],ge={key:1},pe=["onClick"],fe={key:1,class:"flex flex-col gap-y-4 w-full"},me={class:"flex flex-2 flex-col md:w-1/3"},ye=l("label",{for:"cardio-type",class:"mb-1 text-sm text-at-light-green"}," type ",-1),we=["onUpdate:modelValue"],ve=l("option",{value:"#"},"select Type ",-1),ke=l("option",{value:"run"},"Run",-1),be=l("option",{value:"walk"},"Walk",-1),Ve=[ve,ke,be],Ue={key:1},Te={class:"flex flex-2 flex-col"},Ce=l("label",{for:"distance",class:"mb-1 text-sm text-at-light-green"}," distance ",-1),Ee=["onUpdate:modelValue"],qe={key:1},Be={class:"flex flex-2 flex-col"},Re=l("label",{for:"duration",class:"mb-1 text-sm text-at-light-green"}," duration ",-1),Se=["onUpdate:modelValue"],We={key:1},je={class:"flex flex-2 flex-col"},Ae=l("label",{for:"pace",class:"mb-1 text-sm text-at-light-green"}," pace ",-1),De=["onUpdate:modelValue"],Fe={key:1},Me=["onClick"];function Ne(i,r,c,e,y,w){return o(),s("div",F,[e.error_status||e.error_msg?(o(),s("div",M,[l("p",N,n(e.error_status),1),l("p",L,n(e.error_msg),1)])):u("",!0),e.data_loaded?(o(),s("div",z,[l("div",G,[e.user?(o(),s("div",H,[l("div",{class:"h-7 w-7 rounded-full flex justify-center items-center cursor-pointer bg-at-light-green shadow-lg",onClick:r[0]||(r[0]=(...t)=>e.toggle_edit&&e.toggle_edit(...t))},J),l("div",K,[l("img",{onClick:r[1]||(r[1]=(...t)=>e.delete_workout&&e.delete_workout(...t)),class:"h-3.5 w-auto",src:A,alt:""})])])):u("",!0),e.data.workout_type==="cardio"?(o(),s("img",O)):u("",!0),e.data.workout_type==="strength"?(o(),s("img",P)):u("",!0),l("span",Q,n(e.data.workout_type),1),l("div",X,[e.edit?_((o(),s("input",{key:0,"onUpdate:modelValue":r[2]||(r[2]=t=>e.data.workout_name=t),type:"text",class:"p-2 w-full text-gray-500 focus:outline-none"},null,512)),[[x,e.data.workout_name]]):(o(),s("h1",Y,n(e.data.workout_name),1))])]),l("div",Z,[e.data.workout_type==="strength"?(o(),s("div",$,[(o(!0),s(v,null,k(e.data.exercises,(t,h)=>(o(),s("div",{class:"flex flex-col gap-x-6 gap-y-2 relative sm:flex-row",key:h},[l("div",ee,[te,e.edit?_((o(),s("input",{key:0,id:"exercise-name",type:"text",class:"p-2 w-full text-gray-500 focus:outline-none","onUpdate:modelValue":a=>t.exercise=a},null,8,oe)),[[x,t.exercise]]):(o(),s("p",se,n(t.exercise),1))]),l("div",le,[ae,e.edit?_((o(),s("input",{key:0,id:"sets",type:"text",class:"p-2 w-full text-gray-500 focus:outline-none","onUpdate:modelValue":a=>t.sets=a},null,8,re)),[[x,t.sets]]):(o(),s("p",de,n(t.sets),1))]),l("div",ne,[ie,e.edit?_((o(),s("input",{key:0,id:"reps",type:"text",class:"p-2 w-full text-gray-500 focus:outline-none","onUpdate:modelValue":a=>t.reps=a},null,8,ce)),[[x,t.reps]]):(o(),s("p",ue,n(t.reps),1))]),l("div",_e,[xe,e.edit?_((o(),s("input",{key:0,id:"weight",type:"text",class:"p-2 w-full text-gray-500 focus:outline-none","onUpdate:modelValue":a=>t.weight=a},null,8,he)),[[x,t.weight]]):(o(),s("p",ge,n(t.weight),1))]),e.edit?(o(),s("img",{key:0,onClick:a=>e.delete_exo(t.id),src:V,alt:"",class:"absolute h-4 w-auto -left-5 cursor-pointer"},null,8,pe)):u("",!0)]))),128)),e.edit?(o(),s("button",{key:0,onClick:r[3]||(r[3]=(...t)=>e.add_exercise&&e.add_exercise(...t)),type:"button",class:"py-2 px-6 rounded-sm self-start text-sm text-white bg-at-light-green duration-200 border-solid border-2 border-transparent hover:border-at-light-green hover:bg-white hover:text-at-light-green"}," Add Exercise ")):u("",!0)])):(o(),s("div",fe,[(o(!0),s(v,null,k(e.data.exercises,(t,h)=>(o(),s("div",{class:"flex flex-col gap-x-6 gap-y-2 relative sm:flex-row",key:h},[l("div",me,[ye,e.edit?_((o(),s("select",{key:0,id:"cardio-type",class:"p-2 w-full text-gray-500 focus:outline-none","onUpdate:modelValue":a=>t.cardioType=a},Ve,8,we)),[[R,t.cardioType]]):(o(),s("p",Ue,n(t.cardioType),1))]),l("div",Te,[Ce,e.edit?_((o(),s("input",{key:0,id:"distance",type:"text",class:"p-2 w-full text-gray-500 focus:outline-none","onUpdate:modelValue":a=>t.distance=a},null,8,Ee)),[[x,t.distance]]):(o(),s("p",qe,n(t.distance),1))]),l("div",Be,[Re,e.edit?_((o(),s("input",{key:0,id:"duration",type:"text",class:"p-2 w-full text-gray-500 focus:outline-none","onUpdate:modelValue":a=>t.duration=a},null,8,Se)),[[x,t.duration]]):(o(),s("p",We,n(t.duration),1))]),l("div",je,[Ae,e.edit?_((o(),s("input",{key:0,id:"pace",type:"text",class:"p-2 w-full text-gray-500 focus:outline-none","onUpdate:modelValue":a=>t.pace=a},null,8,De)),[[x,t.pace]]):(o(),s("p",Fe,n(t.pace),1))]),e.edit?(o(),s("img",{key:0,onClick:a=>e.delete_exo(t.id),src:V,alt:"",class:"absolute h-4 w-auto -left-5 cursor-pointer"},null,8,Me)):u("",!0)]))),128)),e.edit?(o(),s("button",{key:0,onClick:r[4]||(r[4]=(...t)=>e.add_exercise&&e.add_exercise(...t)),type:"button",class:"py-2 px-6 rounded-sm self-start text-sm text-white bg-at-light-green duration-200 border-solid border-2 border-transparent hover:border-at-light-green hover:bg-white hover:text-at-light-green"}," Add Exercise ")):u("",!0)]))]),e.edit?(o(),s("button",{key:0,onClick:r[5]||(r[5]=(...t)=>e.update&&e.update(...t)),type:"button",class:"mt-10 py-2 px-6 rounded-sm self-start text-sm text-white bg-at-light-green duration-200 border-solid border-2 border-transparent hover:border-at-light-green hover:bg-white hover:text-at-light-green"}," Update ")):u("",!0)])):u("",!0)])}const Oe=T(D,[["render",Ne]]);export{Oe as default};
